
filter {
  if [garage] {
    mutate { replace => { type => "parking-api-v1" } }

    if [location][type] == "point" {
      # Everybody gets caught at least once: string geo-points are "latitude,longitude", while array geo-points are [longitude,latitude]â€”the opposite order!
      mutate { add_field => { location_geo_point => "%{location[coordinates][1]}, %{location[coordinates][0]}" } }
    }
  }
}
